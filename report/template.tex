\input{preamble.tex}

\title{CI/CD with Jenkins and Beaker}
\author{Thomas LÃ¸kkeborg} % TODO add studnr

\begin{document}

\maketitle

\abstract{TBA}

\thispagestyle{empty}

\clearpage
\pagenumbering{roman}
\setcounter{page}{1}
\tableofcontents

\clearpage
\pagenumbering{arabic}

\section{Introduction}

The original goal of this project was to experiment with CI/CD using Jenkins and Beaker. 

I'm trying to accomplish an infrastructure with a Puppet Master, a Jenkins server and an application server that runs CI/CD on any changes made, and ultimaltely deploys them into production.

%This is a short template you can use for your project report. Feel free to
%make your own modifications to the structure. 
%
%Join together to form project groups of max three people in each group (you can
%also be just one if you prefer to work alone).
%
%For the topic you choose write a report of ca 5-15 pages plus appendices (and prepare a 5-10
%minute presentation).
%
%Try to write as scientifically correct as you can. Write objectively, do not
%write like you are telling a story: "first we did this, then we did that, ...".
%Use correct citations, here are some examples of how to cite correctly:
%\begin{itemize}
%\item Dag Langmyrs \LaTeX book~\cite{Langmyr:03}
%\item Journal articles like~\cite{Klein:09}
%\item Conference proceedings articles like~\cite{Begnum:07} 
%\item Wikipedia pages like~\cite{wikipedia:kerberos:10}
%\end{itemize}
%
%NOTE: it is EXTREMELY important that you write in your own words, and not
%just translate something you find. 
%
%If you want to write ``the perfect introduction'' I strongly suggest you
%read Claerbout's ``Scrutiny of the introduction''~\cite{Claerbout:95}.
%
%Describe what you will do in the introduction chapter (What are the goals of
%you project?).

\section{Background technology}

\subsection{Beaker}

Beaker is a test harness focused on acceptance testing machines. The project is maintained by Puppetlabs themselves, and is widely used. Beaker abstracts away the underlying machines it is testing on by using the concept of SUTs, "Systems Under Test", so it can test for any kind of machine that is supported though plugins. The project consists of many parts, and the relevant ones for this project are "beaker-openstack" and "beaker-vagrant".

% NOT NEEDED?
%\subsubsection{beaker-rspec}

%Beaker-rspec incorporates the popular testing framework Rspec into the Beaker ecosystem. Rspec tests are 

\subsubsection{beaker-openstack}

Beaker-openstack is meant to allow Beaker to use OpenStack as a provider of SUTs. This plugin is experimental, and the library code reflects that. I have not found any examples of people actually using this plugin.

\subsubsection{beaker-vagrant}

Beaker-vagrant utilizes Vagrant to create and provision nodes. When using this plugin Beaker will create Vagrant configuration files for you, so it seems like there is no room for customization at the Vagrant layer.

\subsection{Vagrant}

Vagrant is an Open-source automation tool for creating and provisioning virtual machines. It was created to make it straight-forward to create disposable and reproducable virtual machines defined in code. It is from my understanding primarily used to create development envirornments, but it can be used for anything involving virtual machines. Vagrant is not tied to any particular virtualization technology, and uses the concept of "providers" to as a high-level abstraction for underlying hypovisors. As Vagrant is widely used you can find providers for pretty much anything. Worth mentioning is the VirtualBox and OpenStack providers, which are the ones I used during this project. The VirtualBox provider is the most popular choice, due to how simple it is to set up. There are a couple OpenStack providers, but I chose to use "vagran-openstack-provider", as it bases it's machines on images from OpenStack, whereas the other one uses OpenStack compliant boxes.

\subsection{Jenkins Configuration as Code}

Jenkins Configuration as Code, or JCasC, is a Jenkins plugin that seeks to replace the web UI with yaml configuration files. Using this plugin it is possible to completely configure a Jenkins server through code. The project has been accepted as a standard component of the Jenkins project, and will be incorporated into Jenkins itself eventually. JCasC is very new, so documentation is sparse.

%Describe the technology involved, you do not have to explain something you have
%learned in the course, but explain any additional technology that you use in
%the prpoject.

\section{Survey of similar projects}

TBA

%There are always someone who has done what you are going to do, or
%something related. Breifly describe at least one or two similar projects,
%to motivate what your contribution will be (Google/DuckDuckGo the best you can
%and find similar projects).

\section{Description of your work}

TBA

%Describe what you have done (or are doing), relate it the the previous work
%you described in the previous chapter if appropriate.

\section{Results and discussion}

TBA

%This is the longest chapter, feel free to include some figures. Include
%discussion of all problems you have encountered.

\section{Security aspects}

TBA

%Provide a brief security analysis. Are you opening any new attack vectors? What
%are the risks? Are there sensitive data? Are clients and servers mutually
%authenticating each other? etc etc

\section{Conclusions}

TBA

%So what is the punchline, does it work or not? Do you recommend doing this
%for others?

\bibliographystyle{acmdoi}
\bibliography{template}

\clearpage
\appendix

\section{Code}

TBA

%\begin{verbatim}
%# this is just the verbatim environment, really should use
%# a proper code environement
%
%class profile::base_linux {
%
%  $linux_sw_pkg = hiera('base_linux::linux_sw_pkg')
%
%# careful when configuring ntp to avoid misuse (opening for DDOS)
%
%  class { 'ntp':
%    servers   => [ 'ntp.hig.no' ],
%    restrict  => [
%      'default kod nomodify notrap nopeer noquery',
%      '-6 default kod nomodify notrap nopeer noquery',
%    ],
%  }
%  class { 'timezone':
%    timezone => 'Europe/Oslo',
%  }
%
%  package { $linux_sw_pkg:
%    ensure => latest,
%  }
%
%}
%\end{verbatim}
%
\end{document}
